{
    "contents" : "readLexis<-tm::FunctionGenerator(\n  function(elem, language, id) {\n    function(elem, language, id) {\n      \n      # Use elem$content, which contains one item of the 'contents'\n      # vector you passed above, to create a document\n      \n      # In particular, you can provide the following information.\n      # This code assumes that 'content' contains the plain text of\n      # the article body, and that you have filled the other variables\n      # with information you extracted from elem$conten\n      author<-gsub('BYLINE: ', '', grep('^BYLINE:', elem$content, value=TRUE))\n      section<-gsub('SECTION: ', '', grep('^SECTION: ', elem$content, value=TRUE))\n      datetimestamp<-as.Date(#open as.Date\n        gsub(\" Monday| Tuesday| Wednesday| Thursday| Friday| Saturday| Sunday\", \"\", #open gsub\n             elem$content[grep(\"DOCUMENTS$\", elem$content)+2 ]),#close gsub \n        format='%B %d, %Y') #close as.Date\n      origin<-elem$content[grep('DOCUMENTS?', elem$content)+1]\n      ####Note: Just because ProQuest decides to be a little tricky with their encoding of \"Full Text\", you have to account for both capital T and small t. Thanks ProQuest! \n      content<- elem$content[(grep(\"^LENGTH:\", elem$content)+1):(grep(\"^LOAD-DATE:\", elem$content)-2)]\n      #out2[grep(\"^LENGTH:\", out2)+2:grep(\"^LOAD-DATE:\", out2)-1]\n      \ndoc <- PlainTextDocument(x = content\n                         ,\n                               author = author,                            \n                               datetimestamp =datetimestamp,\n                               origin = origin\n      )\n      \n      # To set additional information about the article, use\n      meta(doc, \"Length\") <- sum(sapply(gregexpr(\"\\\\W+\", doc), length) + 1)\n      meta(doc, \"Section\")<-section\n      doc\n    }\n  }\n)",
    "created" : 1447427569481.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3428260826",
    "id" : "3A8CA3C1",
    "lastKnownWriteTime" : 1447429244,
    "path" : "~/tm.lexis.canada/R/readLexis.R",
    "project_path" : "R/readLexis.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}